###############################################
# Environment example for IntelliSales Monorepo
###############################################

###############################################
# General
###############################################
# Node environment: development | test | production
NODE_ENV=development
# Timezone for servers/containers
TZ=UTC

# If set, backend will load env from this path instead of default
# Recommended to point to one of: .env.development | .env.test | .env.production
# DOTENV_CONFIG_PATH=.env.development

###############################################
# Backend API
###############################################
# Backend HTTP port (used by backend server)
BACKEND_PORT=4000
# Public base URL for backend (used by Swagger and external services)
BACKEND_URL=http://localhost:4000
# Base URL used in backend OpenAPI doc when not provided explicitly
API_BASE_URL=http://localhost:4000

# Secrets (generate strong values for production)
# Generate with: openssl rand -base64 32
JWT_SECRET=change-me-in-production
SESSION_SECRET=change-me-in-production

# Bcrypt configuration
# Number of salt rounds for password hashing (clamped 10-14 if out of range)
BCRYPT_SALT_ROUNDS=12

# JWT configuration
# Access/refresh token TTLs (e.g. 15m, 7d)
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=7d
# Token issuer and audience
JWT_ISSUER=your-app
JWT_AUDIENCE=your-app-clients
# Allowed clock skew when verifying tokens (e.g. 5s)
JWT_CLOCK_TOLERANCE=5s

# RS256 keys (optional). If set, RS256 is used instead of HS256 JWT_SECRET
# Provide PEM-formatted keys including BEGIN/END lines
# JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----\n"

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000

###############################################
# Frontend (Next.js)
###############################################
# Frontend dev server port
FRONTEND_PORT=3000
# Public app URL
FRONTEND_URL=http://localhost:3000

# Next.js client-exposed vars must be prefixed with NEXT_PUBLIC_
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000
NEXT_PUBLIC_APP_URL=http://localhost:3000

###############################################
# Database (Prisma / Postgres)
###############################################
# Prisma uses DATABASE_URL by default
DATABASE_URL=postgres://pos_user:pos_password@localhost:5432/pos_db

# Optional individual DB settings (if used elsewhere)
DB_CLIENT=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USER=pos_user
DB_PASSWORD=pos_password
DB_NAME=pos_db

###############################################
# Cache / Queue (optional)
###############################################
## Prisma runtime options (optional)
# Max concurrent connections Prisma can open to Postgres
PRISMA_CONNECTION_LIMIT=10
# Time (ms) to wait for a connection from the pool before erroring
PRISMA_POOL_TIMEOUT=10000
# Set to 1 to log SQL queries in development (0 to disable)
PRISMA_LOG_QUERIES=1

###############################################
# Cache / Queue (optional)
###############################################
REDIS_URL=redis://localhost:6379

###############################################
# Payments (optional)
###############################################
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=

###############################################
# Docker
###############################################
COMPOSE_PROJECT_NAME=pos
